<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- Created by GNU Texinfo 6.8, https://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Incompatibilities with R6RS (Revised(7) Report on the Algorithmic Language Scheme)</title>

<meta name="description" content="Incompatibilities with R6RS (Revised(7) Report on the Algorithmic Language Scheme)">
<meta name="keywords" content="Incompatibilities with R6RS (Revised(7) Report on the Algorithmic Language Scheme)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link href="index.html" rel="start" title="top">
<link href="Alphabetic-index.html" rel="index" title="Alphabetic index">
<link href="Language-changes.html" rel="up" title="Language changes">
<link href="Other-language-changes-since-R5RS.html" rel="prev" title="Other language changes since R5RS">
<style type="text/css">
<!--
a.copiable-anchor {visibility: hidden; text-decoration: none; line-height: 0em}
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
span:hover a.copiable-anchor {visibility: visible}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<div class="section" id="Incompatibilities-with-R6RS">
<div class="header">
<p>
Previous: <a href="Other-language-changes-since-R5RS.html" accesskey="p" rel="prev">Other language changes since R<sup>5</sup>RS</a>, Up: <a href="Language-changes.html" accesskey="u" rel="up">Language changes</a> &nbsp; [<a href="Alphabetic-index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Incompatibilities-with-R6RS-1"></span><h3 class="section">Incompatibilities with R<sup>6</sup>RS</h3>

<p>This section enumerates the incompatibilities between R<sup>7</sup>RS and
the &ldquo;Revised<sup>6</sup> report&rdquo; [<a href="References.html#R6RS">R6RS</a>] and its accompanying Standard Libraries document.
</p>
<p>This list is not authoritative, and is possibly incomplete.
</p>
<ul>
<li> R<sup>7</sup>RS libraries begin with the keyword <code>define-library</code>
rather than <code>library</code> in order to make them syntactically
distinguishable from R<sup>6</sup>RS libraries. In R<sup>7</sup>RS terms, the
body of an R<sup>6</sup>RS library consists of a single export declaration
followed by a single import declaration, followed by commands and
definitions. In R<sup>7</sup>RS, commands and definitions are not permitted
directly within the body: they have to be be wrapped in a <code>begin</code>
library declaration.

</li><li> There is no direct R<sup>6</sup>RS equivalent of the <code>include</code>,
<code>include-ci</code>, <code>include-library-declarations</code>, or
<code>cond-expand</code> library declarations. On the other hand, the
R<sup>7</sup>RS library syntax does not support phase or version
specifications.

</li><li> The grouping of standardized identifiers into libraries is different
from the R<sup>6</sup>RS approach. In particular, procedures which are
optional in R<sup>5</sup>RS, either expressly or by implication, have been
removed from the base library. Only the base library itself is an
absolute requirement.

</li><li> No form of identifier syntax is provided.

</li><li> Internal syntax definitions are allowed, but uses of a syntax form
cannot appear before its definition; the <code>even</code>/<code>odd</code> example
given in R<sup>6</sup>RS is not allowed.

</li><li> The R<sup>6</sup>RS exception system was incorporated as-is, but the
condition types have been left unspecified. In particular, where
R<sup>6</sup>RS requires a condition of a specified type to be signaled,
R<sup>7</sup>RS says only &ldquo;it is an error&rdquo;, leaving the question of
signaling open.

</li><li> Full Unicode support is not required. Normalization is not provided.
Character comparisons are defined by Unicode, but string comparisons
are implementation-dependent. Non-Unicode characters are permitted.

</li><li> The full numeric tower is optional as in R<sup>5</sup>RS, but optional
support for IEEE infinities, NaN, and -0.0 was adopted from
R<sup>6</sup>RS. Most clarifications on numeric results were also adopted, but
the R<sup>6</sup>RS procedures <code>real-valued?</code>, <code>rational-valued?</code>,
and <code>integer-valued</code>? were not. The R<sup>6</sup>RS division operators
<code>div</code>, <code>mod</code>, <code>div-and-mod</code>, <code>div0</code>, <code>mod0</code>
and <code>div0-and-mod0</code> are not provided.

</li><li> When a result is unspecified, it is still required to be a single
value. However, non-final expressions in a body can return any number
of values.

</li><li> The semantics of <code>map</code> and <code>for-each</code> have been changed to
use the SRFI 1 [<a href="References.html#srfi1">srfi1</a>] early termination behavior. Likewise, <code>assoc</code> and
<code>member</code> take an optional <code>equal?</code> argument as in SRFI 1,
instead of the separate <code>assp</code> and <code>memp</code> procedures of
R<sup>6</sup>RS.

</li><li> The R<sup>6</sup>RS <code>quasiquote</code> clarifications have been adopted, with
the exception of multiple-argument <code>unquote</code> and
<code>unquote-splicing</code>.

</li><li> The R<sup>6</sup>RS method of specifying mantissa widths was not adopted.

</li><li> String ports are compatible with SRFI 6 [<a href="References.html#srfi6">srfi6</a>] rather than R<sup>6</sup>RS.

</li><li> R<sup>6</sup>RS-style bytevectors are included, but only the unsigned byte
(<code>u8</code>) procedures have been provided. The lexical syntax uses
<code>#u8</code> for compatibility with SRFI 4 [<a href="References.html#srfi4">srfi4</a>], rather than the R<sup>6</sup>RS
<code>#vu8</code> style.

</li><li> The utility macros <code>when</code> and <code>unless</code> are provided, but
their result is left unspecified.

</li><li> The remaining features of the Standard Libraries document were
left to future standardization efforts.

</li></ul>

</div>
<hr>
<div class="header">
<p>
Previous: <a href="Other-language-changes-since-R5RS.html">Other language changes since R<sup>5</sup>RS</a>, Up: <a href="Language-changes.html">Language changes</a> &nbsp; [<a href="Alphabetic-index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
